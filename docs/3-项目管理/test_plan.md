# 项目测试计划

## 1. 概述

本测试计划旨在为应用内更新系统项目定义全面的测试策略、范围、资源和时间表，以确保系统功能、性能、安全性和用户体验达到预期质量标准。

## 2. 测试范围

### 2.1 功能测试

- **服务端 (@Server)**:
    - 应用信息管理 (CRUD操作)
    - 版本上传功能 (APK解析、信息提取、文件存储、MD5生成)
    - 版本管理功能 (列表展示、状态修改、删除)
    - 检查更新接口逻辑 (版本比对、强制更新判断、正确返回数据结构)
    - API权限校验 (管理接口、普通接口)
    - 文件下载接口
- **前端管理界面 (@H5)**:
    - 用户登录/登出功能
    - 应用列表展示与操作 (搜索、分页、新建、编辑、删除)
    - 应用详情与版本列表展示 (搜索、分页)
    - 版本上传表单功能 (文件选择、信息填写、提交)
    - 版本信息编辑功能
    - 版本状态切换与删除功能
    - UI交互与用户体验 (响应式、易用性、提示信息)
- **移动端SDK (Android)**:
    - SDK初始化与配置加载
    - 检查更新逻辑 (请求发送、响应解析、回调正确性)
    - 更新信息展示 (可选更新对话框、强制更新对话框)
    - APK下载功能 (进度回调、完成回调、失败回调、MD5校验)
    - APK安装引导 (权限请求、安装意图发起)
    - 不同网络状态下的表现 (Wi-Fi, 移动网络, 弱网, 无网)
    - 强制更新逻辑的正确性
    - "稍后提醒"、"忽略此版本"等交互逻辑

### 2.2 性能测试

- **服务端 (@Server)**:
    - 检查更新接口的并发处理能力和响应时间。
    - 版本上传接口（特别是APK解析和文件存储）的处理时间和资源消耗。
    - APK文件下载接口的并发下载能力和下载速度。
- **前端管理界面 (@H5)**:
    - 页面加载速度。
    - 大数据量列表（应用列表、版本列表）的渲染性能。
- **移动端SDK (Android)**:
    - SDK对App启动速度和运行时性能的影响。
    - APK下载速度和资源消耗（CPU、内存、电量）。

### 2.3 安全性测试

- **服务端 (@Server)**:
    - API接口权限控制 (越权访问、未授权访问)。
    - SQL注入、XSS等常见Web漏洞测试。
    - 文件上传漏洞测试 (如上传恶意脚本)。
    - 敏感信息（如数据库密码）是否安全存储和传输。
- **前端管理界面 (@H5)**:
    - XSS防护。
    - 用户认证信息 (Token) 的安全存储和传输。
- **移动端SDK (Android)**:
    - HTTPS传输校验。
    - APK文件MD5校验的有效性。
    - 防止本地存储的敏感信息泄露。

### 2.4 兼容性测试

- **前端管理界面 (@H5)**:
    - 主流浏览器兼容性 (Chrome, Firefox, Edge, Safari 最新版及前一个版本)。
    - 不同操作系统下的浏览器表现 (Windows, macOS)。
- **移动端SDK (Android)**:
    - 不同Android版本兼容性 (从目标最低版本到最新版本，如 Android 5.0 - Android 13+)。
    - 不同品牌和型号的设备兼容性 (覆盖主流厂商如华为、小米、OPPO、VIVO、三星等)。
    - 不同屏幕分辨率和尺寸的UI适配。

### 2.5 用户体验测试 (UAT - User Acceptance Testing)

- 由目标用户或产品代表进行，验证系统是否满足业务需求和用户期望。
- 重点关注操作流程的顺畅性、易用性、提示信息的清晰度。

## 3. 测试策略

- **单元测试**: 开发人员负责编写，针对核心模块和函数进行测试。
    - 后端：Service层、关键工具类。
    - 前端：Vue组件、Pinia Store、工具函数。
    - SDK：核心逻辑模块。
- **集成测试**: 在模块开发完成后，测试模块间的接口和数据交互。
    - 服务端：Controller与Service，Service与Repository。
    - 前端：组件与Store，组件与API调用。
    - 服务端与前端接口联调。
    - 服务端与SDK接口联调。
- **系统测试**: 在整个系统搭建完成后，进行全面的功能、性能、安全、兼容性测试。
- **回归测试**: 在Bug修复或功能变更后，重新运行相关测试用例，确保原有功能未受影响。
- **自动化测试**: 
    - API自动化测试 (使用Postman, RestAssured等)。
    - UI自动化测试 (前端可考虑Cypress, Playwright；SDK UI测试可考虑Espresso)。
    - 优先对核心流程和易出错模块实施自动化。

## 4. 测试环境与工具

- **测试环境**:
    - **开发环境 (DEV)**: 开发人员自测。
    - **测试环境 (SIT/QA)**: 部署独立的服务端和前端，模拟生产环境，供测试团队使用。
    - **预生产环境 (UAT/Staging)**: (可选) 与生产环境配置一致，用于UAT测试和上线前最终验证。
- **硬件资源**: 
    - 测试服务器 (用于部署服务端和前端)。
    - 多款Android测试设备 (不同品牌、型号、系统版本)。
- **软件工具**:
    - **Bug管理**: JIRA, GitLab Issues, Redmine等。
    - **测试用例管理**: TestRail, Zephyr, 或Excel/Google Sheets。
    - **API测试工具**: Postman, Insomnia, Apifox。
    - **性能测试工具**: JMeter, LoadRunner, K6。
    - **自动化测试框架**: Selenium, Cypress, Playwright (前端); RestAssured, Karate (API); Espresso, Appium (移动端)。
    - **版本控制**: Git。
    - **持续集成/持续部署 (CI/CD)**: Jenkins, GitLab CI, GitHub Actions (用于自动化构建和测试执行)。

## 5. 测试时间表与资源

*此部分应与项目实施计划中的测试阶段相对应，并根据实际情况细化。*

| 测试阶段         | 开始日期   | 结束日期   | 负责人 | 参与人员         | 主要任务                                     |
|------------------|------------|------------|--------|------------------|----------------------------------------------|
| 单元测试         | 开发同步进行 | 开发同步进行 | 开发人员 | 开发人员         | 编写和执行单元测试用例                         |
| 集成测试 (后端)  | 项目第X周  | 项目第Y周  | 测试/后端| 后端开发, 测试 | 后端模块间集成测试, API初步测试                |
| 集成测试 (前端)  | 项目第A周  | 项目第B周  | 测试/前端| 前端开发, 测试 | 前端组件与服务集成测试, 页面流程测试           |
| 系统测试         | 项目第C周  | 项目第D周  | 测试团队 | 测试, 开发     | 全面功能、性能、安全、兼容性测试             |
| SDK专项测试      | 项目第E周  | 项目第F周  | 测试/安卓| Android开发, 测试| SDK功能、兼容性、稳定性测试                  |
| UAT              | 项目第G周  | 项目第H周  | 产品/用户| 用户代表, 产品 | 用户场景验证                                 |
| 回归测试         | 按需进行   | 按需进行   | 测试团队 | 测试             | Bug修复后验证, 版本发布前最终回归            |

**测试资源:**
- 测试工程师: [人数]
- Android测试设备: [数量及型号清单]
- 软件许可: [如需付费工具，列出]

## 6. 测试交付物

- **测试计划文档** (本文档)
- **测试用例** (功能、性能、安全、兼容性等)
- **缺陷报告** (Bug列表及其状态)
- **测试报告** (各阶段测试总结，包括测试覆盖率、通过率、遗留问题等)
- **自动化测试脚本**
- **性能测试分析报告**
- **安全测试报告**
- **兼容性测试报告**
- **UAT报告**

## 7. 测试准入与准出标准

### 7.1 测试准入标准 (Entry Criteria)

- 开发完成，单元测试通过。
- 测试环境部署完毕并验证可用。
- 相关需求文档、设计文档已提供并评审。
- 计划测试的功能已开发完毕并提测。

### 7.2 测试准出标准 (Exit Criteria)

- **功能测试**: 
    - 所有严重 (Critical) 和主要 (Major) 级别的Bug已修复并验证通过。
    - 测试用例执行率达到100%，通过率达到95%以上 (可根据项目调整)。
- **性能测试**: 关键性能指标达到预期目标。
- **安全性测试**: 无高危安全漏洞。
- **兼容性测试**: 在目标平台和设备上表现符合预期。
- **UAT**: 用户验收通过。
- 测试报告已完成并评审。

## 8. 缺陷管理流程

1.  **缺陷提交**: 测试人员发现Bug后，在Bug管理系统中提交详细的缺陷报告 (包括复现步骤、预期结果、实际结果、截图/日志等)。
2.  **缺陷确认**: 开发负责人或指定人员确认Bug的有效性和优先级。
3.  **缺陷分配**: Bug被分配给相应的开发人员进行修复。
4.  **缺陷修复**: 开发人员修复Bug。
5.  **缺陷验证**: 测试人员验证Bug是否已修复，并更新Bug状态。
6.  **缺陷关闭**: Bug修复并验证通过后关闭。
7.  **缺陷跟踪**: 定期跟踪Bug状态，确保及时处理。

本测试计划将作为项目测试工作的指导文件，并根据项目进展和实际情况进行必要的更新和调整。 